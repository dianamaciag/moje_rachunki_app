(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){e.exports=a(426)},224:function(e,t,a){},426:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(215),o=a.n(l),c=(a(224),a(5)),i=a(6),s=a(9),u=a(7),m=a(10),p=a(429),d=a(431),h=a(427),f=a(231),b=a(428),E=a(8),v=Object(E.b)(null,function(e){return{signOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){return r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.a,{className:"nav-link text-white",to:"/create"},"Dodaj p\u0142atno\u015b\u0107")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{onClick:e.signOut,className:"nav-link text-white logout"},"Wyloguj")))}),g=function(){return r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.a,{className:"nav-link text-white",to:"/signup"},"Rejestracja")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(b.a,{className:"nav-link text-white",to:"/signin"},"Zaloguj")))},y=Object(E.b)(function(e){return{authorization:e.firebase.auth}})(function(e){var t=e.authorization;return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-info"},r.a.createElement(f.a,{className:"navbar-brand text-white ",to:"/"},r.a.createElement("i",{className:"fas fa-money-bill"})," Moje Rachunki ",r.a.createElement("i",{className:"fas fa-money-bill"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},t.uid?r.a.createElement(v,null):r.a.createElement(g,null)))}),N=a(41),j=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("bills").doc(e).delete().then(function(){t({type:"DELETE_BILL"})}).catch(function(e){t({type:"DELETE_BILL_ERROR",err:e})})}},O=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("bills").doc(e).update({active:!0}).then(function(){t({type:"SET_ACTIVITY_TRUE"})}).catch(function(e){t({type:"SET_ACTIVITY_ERROR",err:e})})}},w=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("summary").doc("14866BBNRSsBsKt2D0Qm").update({toPay:e}).then(function(){t({type:"UPDATE_SUMMARY_TO_PAY"})}).catch(function(e){t({type:"UPDATE_SUMMARY_TO_PAY_ERROR",err:e})})}},R=function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("summary").doc("14866BBNRSsBsKt2D0Qm").update({paid:e}).then(function(){t({type:"UPDATE_SUMMARY_PAID"})}).catch(function(e){t({type:"UPDATE_SUMMARY_PAID_ERROR",err:e})})}},C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleResetBills=function(){var e=0;a.props.bills.map(function(t){return a.props.setBillActive(t.id),e+=parseFloat(t.value)}),a.props.updatePaid("0.00"),a.props.updateToPay(e.toFixed(2))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.date;return r.a.createElement("div",{className:"row mt-4 d-flex justify-content-center panel"},r.a.createElement("div",{className:"col-8 col-md-5"},r.a.createElement("p",{className:"date"}," Dzisiaj jest: ",r.a.createElement("span",{className:"text-info ml-2"},"".concat(e.day,".").concat(e.month)))),r.a.createElement("div",{className:"w-100"}),r.a.createElement("div",{className:"col-12 col-sm-8 col-md-6 d-flex buttons"},r.a.createElement("div",{className:"col-4"},r.a.createElement(f.a,{to:"/create"},r.a.createElement("button",{className:"btn btn-info"},"Dodaj p\u0142atno\u015b\u0107"))),r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{onClick:this.handleResetBills,className:"btn btn-info"},"Resetuj p\u0142atno\u015bci"))))}}]),t}(n.Component),S=Object(E.b)(null,function(e){return{setBillActive:function(t){return e(O(t))},updatePaid:function(t){return e(R(t))},updateToPay:function(t){return e(w(t))}}})(C),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDeleting=function(){var e=a.props,t=e.bill,n=e.summary;a.props.deleteBill(t.id);var r=parseFloat(n.toPay)-parseFloat(t.value);a.props.updateToPay(r.toFixed(2))},a.handleSetBillInactive=function(){var e=a.props,t=e.bill,n=e.summary;a.props.setBillInactive(t.id);var r=parseFloat(n.toPay)-parseFloat(t.value),l=parseFloat(n.paid)+parseFloat(t.value);a.props.updatePaid(l.toFixed(2)),a.props.updateToPay(r.toFixed(2))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.bills,n=t.bill,l=t.date,o=parseInt(l.day),c=parseInt(n.date.substr(8));return r.a.createElement("div",{className:"item my-2 py-2",style:o>=c?{border:"2px solid red"}:null},r.a.createElement("p",null,"Nazwa p\u0142atno\u015bci: ",r.a.createElement("span",null,n.name)),r.a.createElement("p",null,"Kwota: ",r.a.createElement("span",null,n.value,"z\u0142.")),r.a.createElement("p",null,"Termin p\u0142atno\u015bci: ",r.a.createElement("span",null,n.date)," "),r.a.createElement("button",{onClick:function(){return e.handleSetBillInactive(a)},className:"btn btn-info mr-2"},"Zap\u0142acone"),r.a.createElement("button",{onClick:this.handleDeleting,className:"btn btn-info"},"Usu\u0144"))}}]),t}(n.Component),_=Object(E.b)(null,function(e){return{deleteBill:function(t){return e(j(t))},setBillInactive:function(t){return e(function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("bills").doc(e).update({active:!1}).then(function(){t({type:"SET_ACTIVITY_FALSE"})}).catch(function(e){t({type:"SET_ACTIVITY_ERROR",err:e})})}}(t))},updatePaid:function(t){return e(R(t))},updateToPay:function(t){return e(w(t))}}})(A),F=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bills,a=e.date,n=e.summary;return r.a.createElement("div",{className:"topay col-8 col-sm-6 col-md-4"},r.a.createElement("h4",null,"Do zap\u0142acenia"),r.a.createElement("p",{className:"value"},n?n[0].toPay+" z\u0142":"przeliczanie..."),t&&t.map(function(e){return e.active&&n?r.a.createElement(_,{bill:e,key:e.id,date:a,summary:n[0]}):null}))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDeleting=function(){var e=a.props,t=e.bill,n=e.summary;a.props.deleteBill(t.id);var r=parseFloat(n.paid)-parseFloat(t.value);a.props.updatePaid(r.toFixed(2))},a.handleSetBillActive=function(){var e=a.props,t=e.bill,n=e.summary;a.props.setBillActive(t.id);var r=parseFloat(n.toPay)+parseFloat(t.value),l=parseFloat(n.paid)-parseFloat(t.value);a.props.updatePaid(l.toFixed(2)),a.props.updateToPay(r.toFixed(2))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bill,a=e.date;return r.a.createElement("div",{className:"item my-2 py-2"},r.a.createElement("p",null,"Nazwa p\u0142atno\u015bci: ",r.a.createElement("span",{className:"name"},t.name)),r.a.createElement("p",null,"Kwota: ",r.a.createElement("span",{className:"cost"},t.value," z\u0142.")),r.a.createElement("p",null,"Zap\u0142acono: ",r.a.createElement("span",{className:"date"},"".concat(a.year,"-").concat(a.month,"-").concat(a.day))," "),r.a.createElement("button",{onClick:this.handleSetBillActive,className:"btn btn-info mr-2"},"Cofnij p\u0142atno\u015b\u0107"),r.a.createElement("button",{onClick:this.handleDeleting,className:"btn btn-info"},"Usu\u0144"))}}]),t}(n.Component),T=Object(E.b)(null,function(e){return{deleteBill:function(t){return e(j(t))},setBillActive:function(t){return e(O(t))},updatePaid:function(t){return e(R(t))},updateToPay:function(t){return e(w(t))}}})(I),D=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bills,a=e.date,n=e.summary;return r.a.createElement("div",{className:"paid col-8 col-sm-6 col-md-4"},r.a.createElement("h4",null,"Zap\u0142acone"),r.a.createElement("p",{className:"value"},n?n[0].paid+" z\u0142":"przeliczanie..."),t&&t.map(function(e){return!e.active&&n?r.a.createElement(T,{bill:e,key:e.id,date:a,summary:n[0]}):null}))}}]),t}(n.Component),P=a(25),x=a(20),z=a(430),U=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bills,a=e.authorization,n=e.user,l=e.summary;if(!a.uid)return r.a.createElement(z.a,{to:"/signin"});var o={year:(new Date).getFullYear(),month:(new Date).getMonth()<9?"0".concat((new Date).getMonth()+1):(new Date).getMonth()+1,day:(new Date).getDate()<10?"0".concat((new Date).getDate()):(new Date).getDate()};return r.a.createElement("div",{className:"board"},r.a.createElement("div",{className:"row justify-content-start mt-3"},r.a.createElement("div",{className:"col-12"},n.firstName?r.a.createElement("p",{className:"user"}," Zalogowano jako: ",r.a.createElement("span",{className:"text-info"}," ",n.firstName+" "+n.lastName," ")," "):null)),r.a.createElement(S,{date:o,bills:t}),r.a.createElement("div",{className:"row justify-content-center my-5"},r.a.createElement(F,{bills:t,date:o,summary:l}),r.a.createElement("div",{className:"w-100"}),r.a.createElement(D,{bills:t,date:o,summary:l})))}}]),t}(n.Component),B=Object(x.d)(Object(E.b)(function(e){return{bills:e.firestore.ordered.bills,summary:e.firestore.ordered.summary,authorization:e.firebase.auth,user:e.firebase.profile}}),Object(P.firestoreConnect)([{collection:"bills",orderBy:["date","asc"]},{collection:"summary"}]))(U),k=function(){return r.a.createElement("div",{className:"d-flex justify-content-center navbar-light bg-info"},r.a.createElement("p",{className:"pt-3 text-white"},"Created by Diana Maci\u0105g \xa9 All rights reserved."))},L=a(31),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state),a.props.history.push("/")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authorizationError;return e.authorization.uid?r.a.createElement(z.a,{to:"/"}):r.a.createElement("div",{className:"form d-flex align-items-center justify-content-center"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"d-flex flex-column align-items-center"},r.a.createElement("h2",{className:"mb-4 text-info"},"Logowanie"),r.a.createElement("div",{className:"formgroup my-4"},r.a.createElement("label",{htmlFor:"email"},"Adres email: "),r.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("label",{htmlFor:"password"},"Has\u0142o: "),r.a.createElement("input",{onChange:this.handleChange,type:"password",className:"form-control",id:"password"})),r.a.createElement("div",{className:"text-info mb-2"},t?r.a.createElement("p",null,t):null),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Zaloguj")))}}]),t}(n.Component),Y=Object(E.b)(function(e){return{authorizationError:e.authorization.authorizationError,authorization:e.firebase.auth}},function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(M),G=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",firstName:"",lastName:""},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signUp(a.state)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authorization,a=e.authorizationError;return t.uid?r.a.createElement(z.a,{to:"/"}):r.a.createElement("div",{className:"form d-flex align-items-center justify-content-center"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"d-flex flex-column align-items-center"},r.a.createElement("h2",{className:"mb-4 text-info"},"Rejestracja"),r.a.createElement("div",{className:"formgroup my-2"},r.a.createElement("label",{htmlFor:"firstName"},"Imi\u0119: "),r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"firstName",className:"form-control"})),r.a.createElement("div",{className:"formgroup my-2"},r.a.createElement("label",{htmlFor:"lastName"},"Nazwisko: "),r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"lastName",className:"form-control"})),r.a.createElement("div",{className:"formgroup my-2"},r.a.createElement("label",{htmlFor:"email"},"Adres email: "),r.a.createElement("input",{onChange:this.handleChange,type:"email",id:"email",className:"form-control"})),r.a.createElement("div",{className:"form-group mb-5"},r.a.createElement("label",{htmlFor:"password"},"Has\u0142o: "),r.a.createElement("input",{onChange:this.handleChange,type:"password",className:"form-control",id:"password"})),r.a.createElement("div",{className:"mb-2"},a?r.a.createElement("p",null," ",a):null),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Zarejestruj")))}}]),t}(n.Component),V=Object(E.b)(function(e){return{authorization:e.firebase.auth,authorizationError:e.authorization.authorizationError}},function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,o=r(),c=l();o.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName})}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}}(t))}}})(G),Z=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",value:0,date:"",active:!0},a.handleChange=function(e){a.setState(Object(L.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createNew(a.state),a.props.history.push("/");var t=a.props.summary,n=parseFloat(t[0].toPay)+parseFloat(a.state.value);console.log(n,a.state.value,t[0].toPay),a.props.updateToPay(n.toFixed(2))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.authorization.uid?r.a.createElement("div",{className:"form d-flex align-items-center justify-content-center"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"d-flex flex-column align-items-center"},r.a.createElement("h2",{className:"mb-4 text-info"},"Dodaj now\u0105 p\u0142atno\u015b\u0107:"),r.a.createElement("div",{className:"formgroup my-4"},r.a.createElement("label",{htmlFor:"name"},"Nazwa p\u0142atno\u015bci: "),r.a.createElement("input",{onChange:this.handleChange,type:"text",id:"name",className:"form-control"})),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"cost"},"Kwota: "),r.a.createElement("input",{onChange:this.handleChange,type:"number",step:"0.01",className:"form-control",id:"value"})),r.a.createElement("div",{className:"form-group mb-4"},r.a.createElement("label",{htmlFor:"date"},"Termin p\u0142atno\u015bci: "),r.a.createElement("input",{onChange:this.handleChange,type:"date",className:"form-control",id:"date"})),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Dodaj"))):r.a.createElement(z.a,{to:"/signin"})}}]),t}(n.Component),K=Object(x.d)(Object(E.b)(function(e){return{authorization:e.firebase.auth,summary:e.firestore.ordered.summary}},function(e){return{createNew:function(t){return e(function(e){return function(t,a,n){n.getFirebase,(0,n.getFirestore)().collection("bills").add(Object(N.a)({},e)).then(function(){t({type:"ADD_BILL",bill:e})}).catch(function(e){t({type:"ADD_BILL_ERROR",err:e})})}}(t))},updateToPay:function(t){return e(w(t))}}}),Object(P.firestoreConnect)([{collection:"summary"}]))(Z),W=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App container d-flex flex-column"},r.a.createElement(y,null),r.a.createElement("div",{className:"contain"},r.a.createElement(d.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:B}),r.a.createElement(h.a,{path:"/signin",component:Y}),r.a.createElement(h.a,{path:"/signup",component:V}),r.a.createElement(h.a,{path:"/create",component:K}))),r.a.createElement(k,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q={authorizationError:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("poprawne logowanie"),Object(N.a)({},e,{authorizationError:null});case"LOGIN_ERROR":return console.log("b\u0142\u0105d logowania"),Object(N.a)({},e,{authorizationError:"Niepoprawny login lub has\u0142o"});case"SIGNOUT_SUCCESS":return console.log("wylogowano"),e;case"SIGNUP_SUCCESS":return console.log("rejestracja pomyslna"),Object(N.a)({},e,{authorizationError:null});case"SIGNUP_ERROR":return console.log("rejestracja nieudana"),Object(N.a)({},e,{authorizationError:t.err.message});default:return e}},J={bills:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J;switch((arguments.length>1?arguments[1]:void 0).type){case"ADD_BILL":return console.log("created bill"),e;case"ADD_BILL_ERROR":return console.log("created bill error"),e;case"DELETE_BILL":return console.log("deleted"),e;case"DELETE_BILL_ERROR":return console.log("delete error"),e;case"SET_ACTIVITY_FALSE":case"SET_ACTIVITY_TRUE":return console.log("Changed activity"),e;case"SET_ACTIVITY_ERROR":return console.log("Change activity error"),e;default:return e}},$={summary:[]},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;switch((arguments.length>1?arguments[1]:void 0).type){case"UPDATE_SUMMARY_PAID":return console.log("updated summary paid"),e;case"UPDATE_SUMMARY_PAID_ERROR":return console.log("updated summary paid error"),e;case"UPDATE_SUMMARY_TO_PAY":return console.log("updated summary to pay"),e;case"UPDATE_SUMMARY_TO_PAY_ERROR":return console.log("updated summary to pay error"),e;default:return e}},ee=a(61),te=Object(x.c)({authorization:H,bill:X,summary:q,firestore:ee.firestoreReducer,firebase:P.firebaseReducer}),ae=a(218),ne=a(88),re=a.n(ne);a(419),a(424);re.a.initializeApp({apiKey:"AIzaSyA-_QDhMf5BG1NX28tz71YdB2A_VpUE0Oo",authDomain:"moje-rachunki-app.firebaseapp.com",databaseURL:"https://moje-rachunki-app.firebaseio.com",projectId:"moje-rachunki-app",storageBucket:"moje-rachunki-app.appspot.com",messagingSenderId:"621417695172"}),re.a.firestore().settings({timestampsInSnapshots:!0});var le=re.a,oe=Object(x.e)(te,Object(x.d)(Object(x.a)(ae.a.withExtraArgument({getFirebase:P.getFirebase,getFirestore:ee.getFirestore})),Object(ee.reduxFirestore)(le),Object(P.reactReduxFirebase)(le,{attachAuthIsReady:!0,useFirestoreForProfile:!0,userProfile:"users"})));oe.firebaseAuthIsReady.then(function(){o.a.render(r.a.createElement(E.a,{store:oe},r.a.createElement(W,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[219,2,1]]]);
//# sourceMappingURL=main.f49d2489.chunk.js.map